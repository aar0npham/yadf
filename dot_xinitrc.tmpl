#!/bin/bash
#
# ~/.xinitrc
#
# Executed by startx (run your window manager from here)

{{- if .personal }}
{{-   if (and (eq .chezmoi.os "linux") (eq .hostname "0x6161726E70")) }}

userresources=$XDG_CONFIG_HOME/X11/Xresources
usermodmap=$XDG_CONFIG_HOME/X11/Xmodmap

if [ -f "$userresources" ]; then
    xrdb -merge "$userresources"
fi

if [ -f "$usermodmap" ]; then
    xmodmap "$usermodmap"
fi

[ -f ~/.xprofile ] && . ~/.xprofile

# Here awesome is kept as default
# try other wm by doing `xinit wm_name` or `startx ~/.xinitrc wm_name`
session=${1:-{{ .wm }}}

# No known session, try to run it as command
case $session in
    i3|i3wm           ) exec i3;;
    kde               ) exec startplasma-x11;;
    xfce|xfce4        ) exec startxfce4;;
    awesome           ) exec awesome;;
    xmonad            ) exec xmonad;;
    *                 ) exec $1;;
esac

{{-   end }}
{{- end }}

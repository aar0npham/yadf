# scrollback size
set -g history-limit 10000

# to set capslock to prefix edit /usr/share/X11/xkb/symbols/pc
# change CAPSLOCK ... to HOME
# basic setup
set-window-option -g mode-keys vi
bind : command-prompt
set-option -g default-shell $SHELL
setw -g automatic-rename on
set-option -g detach-on-destroy off

# setup for true color
set-option -ga terminal-overrides ",xterm-256color:Tc"
set -g default-terminal "screen-256color"
# Change prefix to CAPSLOCK<binded as HOME> instead of ctrl-b
set -g prefix Home
bind-key Home send-prefix

# set-option -g mouse on
set -g base-index 1
# set new tab when created to be the current directory
bind c new-window -c "#{pane_current_path}"

# split panes using | and -
bind | split-window -h
bind - split-window -v 
unbind '"'
unbind %

# some shortcut
bind-key C-d detach-client
bind-key C-p paste-buffer
bind R refresh-client

# added mouse mode bind https://unix.stackexchange.com/a/480200
# Toggle mouse on
bind-key M \
  set-option -g mouse on \;\
  display-message 'Mouse: ON'

# Toggle mouse off
bind-key m \
  set-option -g mouse off \;\
  display-message 'Mouse: OFF'

# Ctrl - t or t new window
unbind C-t
bind-key C-t new-window

# Ctrl - w or w to kill panes
unbind C-w
bind-key C-w kill-pane

# C + control q to kill session
unbind C-q
bind-key C-q kill-session

# Switching panes with alt
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D
# Windows customization
set -g status-position bottom
set -g status-bg colour234
set -g status-fg colour137
set -g status-style dim
set -g status-left ''
set -g status-right '#[fg=colour233,bg=colour241,bold] %d/%m #[fg=colour233,bg=colour245,bold] %I:%M|%p '
set -g status-right-length 70
set -g status-left-length 20

setw -g window-status-current-style fg=colour81
setw -g window-status-current-style bg=colour238
setw -g window-status-current-style bold
setw -g window-status-current-format ' #I#[fg=colour250]:#[fg=colour255]#W#[fg=colour50]#F '

setw -g window-status-style fg=colour138
setw -g window-status-style bg=colour235
setw -g window-status-style none
setw -g window-status-format ' #I#[fg=colour237]:#[fg=colour250]#W#[fg=colour244]#F '

setw -g window-status-bell-style bold
setw -g window-status-bell-style fg=colour255
setw -g window-status-bell-style bg=colour1

#tpm
# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @continuum-restore 'on'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '${XDG_CONFIG_HOME}/tmux/plugins/tpm/tpm'
